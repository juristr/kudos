!function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}};c=function(){function c(c){this.element=c,this.start=d(this.start,this),this.stop=d(this.stop,this),this.complete=d(this.complete,this),this.undo=d(this.undo,this),a(document).on("touchstart",this.element,this.start),a(document).on("touchend",this.element,this.stop),this.element.mouseenter(this.start),this.element.mouseleave(this.stop),this.element.click(this.undo),this.render(),this.$counter=this.element.find(".count .num"),b.get(e)===!0&&this.element.addClass("complete")}var e=document.location.pathname;return c.prototype.render=function(){var b=a('<a class="kudobject"><div class="opening"><div class="circle">&nbsp;</div></div></a><a href="#kudo" class="count"><span class="num">0</span><span class="txt">Kudos</span></a>');this.element.append(b)},c.prototype.start=function(){this.isKudoed()||(this.element.addClass("active"),this.activationTimer=setTimeout(this.complete,700))},c.prototype.stop=function(){clearTimeout(this.activationTimer),this.element.removeClass("active")},c.prototype.complete=function(){this.stop(),this.incrementCount(),b.set(e,!0),this.element.trigger("kudo.added",{count:this.currentCount()}),this.element.addClass("complete")},c.prototype.undo=function(){this.isKudoed()&&(this.currentCount()>0&&this.decrementCount(),b.set(e,!1),this.element.trigger("kudo.removed",{count:this.currentCount()}),this.element.removeClass("complete"))},c.prototype.currentCount=function(){var a=parseInt(this.$counter.html(),10);return isNaN(a)&&(a=0),a},c.prototype.isKudoed=function(){return this.element.hasClass("complete")},c.prototype.setCount=function(a){this.$counter.html(a)},c.prototype.incrementCount=function(){this.setCount(this.currentCount()+1)},c.prototype.decrementCount=function(){this.setCount(this.currentCount()-1)},c}(),a(function(){a.fn.kudoable=function(){return this.each(function(){return new c(a(this))})}})}(jQuery,$.jStorage);